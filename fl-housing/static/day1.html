<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day1 - ç”¨æˆ·ä½“ç³» APIè°ƒè¯•</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; background: #f5f5f5; padding: 20px; }
        .container { max-width: 1000px; margin: 0 auto; }
        h1 { color: #1890ff; margin-bottom: 20px; }
        .back { color: #666; text-decoration: none; display: inline-block; margin-bottom: 20px; }
        details.file-list { background: #e6f7ff; border: 1px solid #91d5ff; padding: 15px; border-radius: 4px; margin-bottom: 20px; }
        details.file-list summary { cursor: pointer; font-weight: bold; color: #1890ff; }
        .token-bar { background: #fffbe6; border: 1px solid #ffe58f; padding: 12px 15px; border-radius: 4px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; }
        .token-bar label { font-weight: bold; white-space: nowrap; }
        .token-bar input { flex: 1; padding: 8px 12px; border: 1px solid #d9d9d9; border-radius: 4px; font-family: monospace; }
        .api-card { background: #fff; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 1px 4px rgba(0,0,0,0.1); overflow: hidden; }
        .api-header { background: #1890ff; color: #fff; padding: 12px 20px; display: flex; align-items: center; gap: 15px; }
        .api-header .method { padding: 4px 10px; border-radius: 4px; font-weight: bold; font-size: 12px; }
        .api-header .method.get { background: #52c41a; }
        .api-header .method.post { background: #fa8c16; }
        .api-header .method.put { background: #1890ff; }
        .api-header .method.delete { background: #ff4d4f; }
        .api-header .title { font-weight: bold; flex: 1; }
        .api-header .tag { background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 3px; font-size: 12px; }
        .api-body { padding: 20px; }
        .api-url { background: #f6f8fa; border: 1px solid #e1e4e8; border-radius: 4px; padding: 10px 15px; font-family: monospace; font-size: 13px; margin-bottom: 15px; color: #24292e; word-break: break-all; }
        .section-title { font-size: 13px; font-weight: bold; color: #666; margin: 15px 0 8px; }
        .json-input { width: 100%; min-height: 120px; padding: 12px; border: 1px solid #d9d9d9; border-radius: 4px; font-family: 'Monaco', 'Consolas', monospace; font-size: 13px; line-height: 1.5; resize: vertical; background: #fafafa; }
        .json-input:focus { outline: none; border-color: #1890ff; background: #fff; }
        .btn-row { margin-top: 15px; display: flex; gap: 10px; }
        .btn { padding: 10px 25px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: bold; }
        .btn-send { background: #1890ff; color: #fff; }
        .btn-send:hover { background: #40a9ff; }
        .btn-copy { background: #f0f0f0; color: #666; }
        .btn-copy:hover { background: #e0e0e0; }
        .response-block { margin-top: 15px; }
        .response-block .section-title { display: flex; align-items: center; gap: 10px; }
        .response-block .status { padding: 2px 8px; border-radius: 3px; font-size: 12px; }
        .response-block .status.success { background: #f6ffed; color: #52c41a; }
        .response-block .status.error { background: #fff2f0; color: #ff4d4f; }
        .response-output { background: #1e1e1e; color: #d4d4d4; border-radius: 4px; padding: 15px; font-family: monospace; font-size: 13px; line-height: 1.6; max-height: 300px; overflow: auto; white-space: pre-wrap; word-break: break-word; }
        .tip { background: #fffbe6; border: 1px solid #ffe58f; padding: 10px 15px; border-radius: 4px; font-size: 13px; color: #8c6e00; margin-top: 12px; }
        .auth-tip { background: #fff7e6; border-left: 3px solid #fa8c16; padding: 8px 12px; font-size: 12px; color: #d46b08; margin-bottom: 15px; }
        .field-desc { margin-top: 10px; }
        .field-desc summary { cursor: pointer; font-size: 13px; color: #1890ff; font-weight: bold; }
        .field-desc table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }
        .field-desc th, .field-desc td { border: 1px solid #e8e8e8; padding: 8px 10px; text-align: left; }
        .field-desc th { background: #fafafa; color: #666; }
        .field-desc .required { color: #ff4d4f; font-weight: bold; }
        .field-desc .optional { color: #52c41a; }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back">â† è¿”å›é¦–é¡µ</a>
        <h1>Day 1 - ç”¨æˆ·ä½“ç³» APIè°ƒè¯•</h1>
        
        <details class="file-list">
            <summary>ğŸ“ Day1 éœ€æäº¤çš„æ–‡ä»¶æ¸…å•ï¼ˆå…±29ä¸ªæ–‡ä»¶ï¼‰ï¼Œç‚¹å‡»å±•å¼€</summary>
            <div style="font-size:13px;line-height:2;margin-top:10px;">
1. config.py - é…ç½®æ–‡ä»¶<br>
2. requirements.txt - ä¾èµ–æ¸…å•<br>
3. main.py - å…¥å£æ–‡ä»¶<br>
4. app/__init__.py - appåŒ…åˆå§‹åŒ–<br>
5. app/core/__init__.py - coreåŒ…åˆå§‹åŒ–<br>
6. app/core/database.py - æ•°æ®åº“è¿æ¥<br>
7. app/core/security.py - å¯†ç å’ŒToken<br>
8. app/core/response.py - ç»Ÿä¸€å“åº”<br>
9. app/core/exceptions.py - å¼‚å¸¸å¤„ç†<br>
10. app/core/dependencies.py - ä¾èµ–æ³¨å…¥<br>
11. app/utils/__init__.py - utilsåŒ…åˆå§‹åŒ–<br>
12. app/utils/sms.py - çŸ­ä¿¡æ¨¡æ‹Ÿ<br>
13. app/utils/payment.py - æ”¯ä»˜æ¨¡æ‹Ÿ<br>
14. app/utils/idcard.py - å®åæ¨¡æ‹Ÿ<br>
15. app/utils/credit.py - ä¿¡ç”¨åˆ†æ¨¡æ‹Ÿ<br>
16. app/utils/qrcode.py - äºŒç»´ç <br>
17. app/utils/validators.py - æ ¡éªŒå·¥å…·<br>
18. app/models/__init__.py - modelsåŒ…åˆå§‹åŒ–<br>
19. app/models/fl_user.py - ç”¨æˆ·æ¨¡å‹<br>
20. app/schemas/__init__.py - schemasåŒ…åˆå§‹åŒ–<br>
21. app/schemas/fl_user_schema.py - ç”¨æˆ·Schema<br>
22. app/services/__init__.py - servicesåŒ…åˆå§‹åŒ–<br>
23. app/services/fl_user_service.py - ç”¨æˆ·æœåŠ¡<br>
24. app/api/__init__.py - apiåŒ…åˆå§‹åŒ–<br>
25. app/api/v1/__init__.py - v1åŒ…åˆå§‹åŒ–<br>
26. app/api/v1/fl_auth.py - è®¤è¯API<br>
27. app/api/v1/fl_user.py - ç”¨æˆ·API<br>
28. static/index.html - è°ƒè¯•é¦–é¡µ<br>
29. static/day1.html - Day1è°ƒè¯•é¡µ
            </div>
        </details>

        <div class="token-bar">
            <label>ğŸ”‘ Token:</label>
            <input type="text" id="globalToken" placeholder="ç™»å½•/æ³¨å†Œåè‡ªåŠ¨å¡«å…¥ï¼Œéœ€ç™»å½•çš„æ¥å£ä¼šè‡ªåŠ¨æºå¸¦">
        </div>

        <div style="background:#f0f5ff;border:1px solid #adc6ff;border-radius:4px;padding:12px 15px;margin-bottom:15px;font-size:13px;color:#1d39c4;">
            <b>ğŸ“Œ æµ‹è¯•æ¨¡å¼è¯´æ˜ï¼š</b><br>
            â€¢ çŸ­ä¿¡éªŒè¯ç ï¼šå½“å‰ä¸ºæ¨¡æ‹Ÿå‘é€ï¼Œä¸‡èƒ½éªŒè¯ç  <code style="background:#fff;padding:2px 6px;border-radius:3px;">666666</code> å¯é€šè¿‡æ‰€æœ‰éªŒè¯<br>
            â€¢ å®åè®¤è¯/ä¿¡ç”¨åˆ†ï¼šå½“å‰ä¸ºæ¨¡æ‹Ÿé€šè¿‡ï¼Œç›´æ¥è¿”å›æˆåŠŸ<br>
            â€¢ æ­£å¼ä¸Šçº¿éœ€è¦ä¼ä¸šèµ„è´¨å¼€é€šé˜¿é‡Œäº‘APIï¼ŒçœŸå®ä»£ç å·²å†™å¥½å¹¶æ³¨é‡Šåœ¨ <code style="background:#fff;padding:2px 6px;border-radius:3px;">app/utils/sms.py</code>
        </div>

        <details style="background:#fff2f0;border:1px solid #ffccc7;border-radius:4px;padding:12px 15px;margin-bottom:20px;font-size:13px;color:#a8071a;">
            <summary style="cursor:pointer;font-weight:bold;">âš ï¸ çŠ¶æ€ç ä¸å¼‚å¸¸è¯´æ˜ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>
            <div style="margin-top:10px;line-height:1.8;">
                <b>çŠ¶æ€ç è¯´æ˜ï¼š</b><br>
                â€¢ <code style="background:#f6ffed;color:#52c41a;padding:2px 6px;border-radius:3px;">200</code> è¯·æ±‚æˆåŠŸ<br>
                â€¢ <code style="background:#fff7e6;color:#fa8c16;padding:2px 6px;border-radius:3px;">400</code> å‚æ•°é”™è¯¯æˆ–ä¸šåŠ¡æ ¡éªŒå¤±è´¥ï¼Œmessageå­—æ®µè¿”å›å…·ä½“é”™è¯¯åŸå› <br>
                â€¢ <code style="background:#fff2f0;color:#ff4d4f;padding:2px 6px;border-radius:3px;">401</code> æœªç™»å½•æˆ–Tokenå¤±æ•ˆï¼Œéœ€é‡æ–°ç™»å½•è·å–Token<br>
                â€¢ <code style="background:#fff2f0;color:#ff4d4f;padding:2px 6px;border-radius:3px;">403</code> æƒé™ä¸è¶³ï¼Œå¦‚å¼€å‘å•†/è¿è¥æ— æƒè®¿é—®ç®¡ç†å‘˜æ¥å£<br>
                â€¢ <code style="background:#fff2f0;color:#ff4d4f;padding:2px 6px;border-radius:3px;">500</code> æœåŠ¡å™¨å†…éƒ¨é”™è¯¯<br><br>
                <b>å¼‚å¸¸å¤„ç†ï¼š</b><br>
                â€¢ æ‰€æœ‰æ¥å£è¿”å› <code>codeâ‰ 200</code> æ—¶ï¼Œ<code>message</code> å­—æ®µåŒ…å«å…·ä½“å¤±è´¥åŸå› <br>
                â€¢ æœªæºå¸¦Tokenæˆ–Tokenå¤±æ•ˆæ—¶ï¼Œè¿”å› <code>401 Unauthorized</code><br>
                â€¢ è§’è‰²æƒé™ä¸è¶³æ—¶ï¼ˆå¦‚æ™®é€šç”¨æˆ·è®¿é—®ç®¡ç†å‘˜æ¥å£ï¼‰ï¼Œè¿”å› <code>403 Forbidden</code><br>
                â€¢ å‚æ•°æ ¡éªŒå¤±è´¥æ—¶ï¼Œ<code>message</code> è¿”å›å…·ä½“çš„å‚æ•°é”™è¯¯æç¤º
            </div>
        </details>

        <!-- 1. å‘é€çŸ­ä¿¡éªŒè¯ç  -->
        <div class="api-card">
            <div class="api-header">
                <span class="method post">POST</span>
                <span class="title">1. å‘é€çŸ­ä¿¡éªŒè¯ç </span>
                <span class="tag">å…¬å¼€</span>
            </div>
            <div class="api-body">
                <div class="api-url">POST http://localhost:8000/api/v1/auth/send_sms</div>
                <div class="section-title">è¯·æ±‚å‚æ•° (Body JSON) - å¯ç¼–è¾‘</div>
                <textarea class="json-input" id="req_1">{
    "phone": "13800138000",
    "scene": "register"
}</textarea>
                <details class="field-desc">
                    <summary>ğŸ“‹ å­—æ®µè¯´æ˜ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>
                    <b style="font-size:12px;color:#666;">è¯·æ±‚å‚æ•°ï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>å¿…å¡«</th><th>è¯´æ˜</th></tr>
                        <tr><td>phone</td><td>string</td><td class="required">æ˜¯</td><td>æ‰‹æœºå·ï¼Œ11ä½ï¼Œ1å¼€å¤´</td></tr>
                        <tr><td>scene</td><td>string</td><td class="required">æ˜¯</td><td>åœºæ™¯ï¼šregister(æ³¨å†Œ) / login(ç™»å½•) / reset_password(é‡ç½®å¯†ç )</td></tr>
                    </table>
                    <b style="font-size:12px;color:#666;margin-top:10px;display:block;">è¿”å›å­—æ®µï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr>
                        <tr><td>code</td><td>int</td><td>200æˆåŠŸ / 400å‚æ•°é”™è¯¯ / 500æœåŠ¡å™¨é”™è¯¯</td></tr>
                        <tr><td>message</td><td>string</td><td>æç¤ºä¿¡æ¯</td></tr>
                        <tr><td>data.expire_seconds</td><td>int</td><td>éªŒè¯ç æœ‰æ•ˆæœŸï¼ˆç§’ï¼‰</td></tr>
                    </table>
                </details>
                <div class="btn-row">
                    <button class="btn btn-send" onclick="sendRequest('POST', '/auth/send_sms', 'req_1', 'res_1')">å‘é€è¯·æ±‚</button>
                    <button class="btn btn-copy" onclick="copyInput('req_1')">å¤åˆ¶JSON</button>
                </div>
                <div class="response-block">
                    <div class="section-title">è¿”å›ç»“æœ <span class="status" id="status_1"></span></div>
                    <div class="response-output" id="res_1">ç‚¹å‡»"å‘é€è¯·æ±‚"æŸ¥çœ‹ç»“æœ</div>
                </div>
                <div class="tip">ğŸ’¡ <b>æ¨¡æ‹Ÿè¯´æ˜ï¼š</b>ä¸‡èƒ½éªŒè¯ç  <code>666666</code>ï¼Œsceneå¯é€‰å€¼ï¼šregister / login / reset_password</div>
            </div>
        </div>

        <!-- 2. ç”¨æˆ·æ³¨å†Œ -->
        <div class="api-card">
            <div class="api-header">
                <span class="method post">POST</span>
                <span class="title">2. ç”¨æˆ·æ³¨å†Œ</span>
                <span class="tag">å…¬å¼€</span>
            </div>
            <div class="api-body">
                <div class="api-url">POST http://localhost:8000/api/v1/auth/register</div>
                <div class="section-title">è¯·æ±‚å‚æ•° (Body JSON) - å¯ç¼–è¾‘</div>
                <textarea class="json-input" id="req_2">{
    "phone": "13800138000",
    "sms_code": "666666",
    "password": "123456",
    "username": "testuser",
    "nickname": "æµ‹è¯•ç”¨æˆ·"
}</textarea>
                <details class="field-desc">
                    <summary>ğŸ“‹ å­—æ®µè¯´æ˜ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>
                    <b style="font-size:12px;color:#666;">è¯·æ±‚å‚æ•°ï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>å¿…å¡«</th><th>è¯´æ˜</th></tr>
                        <tr><td>phone</td><td>string</td><td class="required">æ˜¯</td><td>æ‰‹æœºå·ï¼Œ11ä½ï¼Œ1å¼€å¤´</td></tr>
                        <tr><td>sms_code</td><td>string</td><td class="required">æ˜¯</td><td>çŸ­ä¿¡éªŒè¯ç ï¼Œ4-6ä½ï¼ˆæµ‹è¯•ç”¨666666ï¼‰</td></tr>
                        <tr><td>password</td><td>string</td><td class="required">æ˜¯</td><td>å¯†ç ï¼Œ6-20ä½</td></tr>
                        <tr><td>username</td><td>string</td><td class="optional">å¦</td><td>ç”¨æˆ·åï¼Œ4-20ä½ï¼Œå¯ç”¨äºç™»å½•</td></tr>
                        <tr><td>nickname</td><td>string</td><td class="optional">å¦</td><td>æ˜µç§°ï¼Œä¸å¡«é»˜è®¤"ç”¨æˆ·+æ‰‹æœºå4ä½"</td></tr>
                    </table>
                    <b style="font-size:12px;color:#666;margin-top:10px;display:block;">è¿”å›å­—æ®µï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr>
                        <tr><td>code</td><td>int</td><td>200æˆåŠŸ / 400å‚æ•°é”™è¯¯(éªŒè¯ç é”™è¯¯/æ‰‹æœºå·å·²æ³¨å†Œ/ç”¨æˆ·åå·²å­˜åœ¨) / 500æœåŠ¡å™¨é”™è¯¯</td></tr>
                        <tr><td>message</td><td>string</td><td>æç¤ºä¿¡æ¯</td></tr>
                        <tr><td>data.user_id</td><td>int</td><td>ç”¨æˆ·ID</td></tr>
                        <tr><td>data.phone</td><td>string</td><td>è„±æ•æ‰‹æœºå·</td></tr>
                        <tr><td>data.nickname</td><td>string</td><td>æ˜µç§°</td></tr>
                        <tr><td>data.roles</td><td>array</td><td>è§’è‰²åˆ—è¡¨</td></tr>
                        <tr><td>data.token</td><td>string</td><td>ç™»å½•Tokenï¼ˆè‡ªåŠ¨å¡«å…¥Tokenæ ï¼‰</td></tr>
                    </table>
                </details>
                <div class="btn-row">
                    <button class="btn btn-send" onclick="sendRequest('POST', '/auth/register', 'req_2', 'res_2', true)">å‘é€è¯·æ±‚</button>
                    <button class="btn btn-copy" onclick="copyInput('req_2')">å¤åˆ¶JSON</button>
                </div>
                <div class="response-block">
                    <div class="section-title">è¿”å›ç»“æœ <span class="status" id="status_2"></span></div>
                    <div class="response-output" id="res_2">ç‚¹å‡»"å‘é€è¯·æ±‚"æŸ¥çœ‹ç»“æœ</div>
                </div>
            </div>
        </div>

        <!-- 3. ç”¨æˆ·ç™»å½• -->
        <div class="api-card">
            <div class="api-header">
                <span class="method post">POST</span>
                <span class="title">3. ç”¨æˆ·ç™»å½•</span>
                <span class="tag">å…¬å¼€</span>
            </div>
            <div class="api-body">
                <div class="api-url">POST http://localhost:8000/api/v1/auth/login</div>
                <div class="section-title">è¯·æ±‚å‚æ•° (Body JSON) - å¯ç¼–è¾‘</div>
                <textarea class="json-input" id="req_3">{
    "account": "13800138000",
    "password": "123456",
    "login_type": "password"
}</textarea>
                <details class="field-desc">
                    <summary>ğŸ“‹ å­—æ®µè¯´æ˜ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>
                    <b style="font-size:12px;color:#666;">è¯·æ±‚å‚æ•°ï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>å¿…å¡«</th><th>è¯´æ˜</th></tr>
                        <tr><td>account</td><td>string</td><td class="required">æ˜¯</td><td>è´¦å·ï¼Œæ‰‹æœºå·æˆ–ç”¨æˆ·å</td></tr>
                        <tr><td>password</td><td>string</td><td class="optional">æ¡ä»¶</td><td>å¯†ç ï¼Œlogin_type=passwordæ—¶å¿…å¡«</td></tr>
                        <tr><td>sms_code</td><td>string</td><td class="optional">æ¡ä»¶</td><td>éªŒè¯ç ï¼Œlogin_type=smsæ—¶å¿…å¡«</td></tr>
                        <tr><td>login_type</td><td>string</td><td class="required">æ˜¯</td><td>ç™»å½•æ–¹å¼ï¼špassword(å¯†ç ) / sms(çŸ­ä¿¡éªŒè¯ç )</td></tr>
                    </table>
                    <b style="font-size:12px;color:#666;margin-top:10px;display:block;">è¿”å›å­—æ®µï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr>
                        <tr><td>code</td><td>int</td><td>200æˆåŠŸ / 400å‚æ•°é”™è¯¯(ç”¨æˆ·ä¸å­˜åœ¨/å¯†ç é”™è¯¯/éªŒè¯ç é”™è¯¯/è´¦å·å·²ç¦ç”¨) / 500æœåŠ¡å™¨é”™è¯¯</td></tr>
                        <tr><td>message</td><td>string</td><td>æç¤ºä¿¡æ¯</td></tr>
                        <tr><td>data.user_id</td><td>int</td><td>ç”¨æˆ·ID</td></tr>
                        <tr><td>data.phone</td><td>string</td><td>è„±æ•æ‰‹æœºå·</td></tr>
                        <tr><td>data.nickname</td><td>string</td><td>æ˜µç§°</td></tr>
                        <tr><td>data.user_level</td><td>string</td><td>ç”¨æˆ·ç­‰çº§ï¼štemp(ä¸´æ—¶)/normal(ä¸€èˆ¬)/verified(å®å)</td></tr>
                        <tr><td>data.roles</td><td>array</td><td>è§’è‰²åˆ—è¡¨</td></tr>
                        <tr><td>data.token</td><td>string</td><td>ç™»å½•Tokenï¼ˆè‡ªåŠ¨å¡«å…¥Tokenæ ï¼‰</td></tr>
                    </table>
                </details>
                <div class="btn-row">
                    <button class="btn btn-send" onclick="sendRequest('POST', '/auth/login', 'req_3', 'res_3', true)">å‘é€è¯·æ±‚</button>
                    <button class="btn btn-copy" onclick="copyInput('req_3')">å¤åˆ¶JSON</button>
                </div>
                <div class="response-block">
                    <div class="section-title">è¿”å›ç»“æœ <span class="status" id="status_3"></span></div>
                    <div class="response-output" id="res_3">ç‚¹å‡»"å‘é€è¯·æ±‚"æŸ¥çœ‹ç»“æœ</div>
                </div>
            </div>
        </div>

        <!-- 4. è·å–ç”¨æˆ·ä¿¡æ¯ -->
        <div class="api-card">
            <div class="api-header">
                <span class="method get">GET</span>
                <span class="title">4. è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯</span>
                <span class="tag">éœ€ç™»å½•</span>
            </div>
            <div class="api-body">
                <div class="auth-tip">ğŸ” éœ€è¦Tokenï¼Œå°†è‡ªåŠ¨ä»ä¸Šæ–¹Tokenæ è·å–</div>
                <div class="api-url">GET http://localhost:8000/api/v1/user/profile</div>
                <div class="section-title">è¯·æ±‚å‚æ•°</div>
                <textarea class="json-input" id="req_4" style="min-height:50px;">æ— Bodyå‚æ•°ï¼ŒHeaderè‡ªåŠ¨æºå¸¦Token</textarea>
                <details class="field-desc">
                    <summary>ğŸ“‹ å­—æ®µè¯´æ˜ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>
                    <b style="font-size:12px;color:#666;">è¯·æ±‚å‚æ•°ï¼š</b>
                    <table>
                        <tr><th colspan="4">æ— Bodyå‚æ•°ï¼Œé€šè¿‡Headerä¸­çš„Tokenè¯†åˆ«ç”¨æˆ·</th></tr>
                    </table>
                    <b style="font-size:12px;color:#666;margin-top:10px;display:block;">è¿”å›å­—æ®µï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr>
                        <tr><td>code</td><td>int</td><td>200æˆåŠŸ / 401æœªç™»å½•æˆ–Tokenå¤±æ•ˆ / 500æœåŠ¡å™¨é”™è¯¯</td></tr>
                        <tr><td>message</td><td>string</td><td>æç¤ºä¿¡æ¯</td></tr>
                        <tr><td>data.user_id</td><td>int</td><td>ç”¨æˆ·ID</td></tr>
                        <tr><td>data.phone</td><td>string</td><td>è„±æ•æ‰‹æœºå·</td></tr>
                        <tr><td>data.username</td><td>string</td><td>ç”¨æˆ·å</td></tr>
                        <tr><td>data.nickname</td><td>string</td><td>æ˜µç§°</td></tr>
                        <tr><td>data.user_level</td><td>string</td><td>ç”¨æˆ·ç­‰çº§ï¼štemp(ä¸´æ—¶)/normal(ä¸€èˆ¬)/verified(å®å)</td></tr>
                        <tr><td>data.credit_score</td><td>int</td><td>ä¿¡ç”¨åˆ†</td></tr>
                        <tr><td>data.roles</td><td>array</td><td>è§’è‰²åˆ—è¡¨</td></tr>
                        <tr><td>data.status</td><td>string</td><td>è´¦å·çŠ¶æ€ï¼šactive/disabled</td></tr>
                    </table>
                </details>
                <div class="btn-row">
                    <button class="btn btn-send" onclick="sendRequest('GET', '/user/profile', null, 'res_4')">å‘é€è¯·æ±‚</button>
                </div>
                <div class="response-block">
                    <div class="section-title">è¿”å›ç»“æœ <span class="status" id="status_4"></span></div>
                    <div class="response-output" id="res_4">ç‚¹å‡»"å‘é€è¯·æ±‚"æŸ¥çœ‹ç»“æœ</div>
                </div>
            </div>
        </div>

        <!-- 5. èº«ä»½è¯å®åè®¤è¯ -->
        <div class="api-card">
            <div class="api-header">
                <span class="method post">POST</span>
                <span class="title">5. èº«ä»½è¯å®åè®¤è¯</span>
                <span class="tag">éœ€ç™»å½•</span>
            </div>
            <div class="api-body">
                <div class="auth-tip">ğŸ” éœ€è¦Tokenï¼Œå°†è‡ªåŠ¨ä»ä¸Šæ–¹Tokenæ è·å–</div>
                <div class="api-url">POST http://localhost:8000/api/v1/user/verify/idcard</div>
                <div class="section-title">è¯·æ±‚å‚æ•° (Body JSON) - å¯ç¼–è¾‘</div>
                <textarea class="json-input" id="req_5">{
    "real_name": "å¼ ä¸‰",
    "id_card_no": "460000199001011234"
}</textarea>
                <details class="field-desc">
                    <summary>ğŸ“‹ å­—æ®µè¯´æ˜ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>
                    <b style="font-size:12px;color:#666;">è¯·æ±‚å‚æ•°ï¼ˆäºŒè¦ç´ è®¤è¯ï¼‰ï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>å¿…å¡«</th><th>è¯´æ˜</th></tr>
                        <tr><td>real_name</td><td>string</td><td class="required">æ˜¯</td><td>çœŸå®å§“å</td></tr>
                        <tr><td>id_card_no</td><td>string</td><td class="required">æ˜¯</td><td>èº«ä»½è¯å·ï¼Œ18ä½</td></tr>
                    </table>
                    <b style="font-size:12px;color:#666;margin-top:10px;display:block;">è¿”å›å­—æ®µï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr>
                        <tr><td>code</td><td>int</td><td>200æˆåŠŸ / 400è®¤è¯å¤±è´¥ / 401æœªç™»å½•æˆ–Tokenå¤±æ•ˆ / 500æœåŠ¡å™¨é”™è¯¯</td></tr>
                        <tr><td>message</td><td>string</td><td>æç¤ºä¿¡æ¯</td></tr>
                        <tr><td>data.verification_id</td><td>int</td><td>è®¤è¯è®°å½•ID</td></tr>
                        <tr><td>data.verify_type</td><td>string</td><td>è®¤è¯ç±»å‹ï¼šidcard</td></tr>
                        <tr><td>data.verify_status</td><td>string</td><td>è®¤è¯çŠ¶æ€ï¼šapproved(é€šè¿‡)</td></tr>
                        <tr><td>data.user_level</td><td>string</td><td>ç”¨æˆ·ç­‰çº§å˜æ›´ä¸ºï¼šverified</td></tr>
                    </table>
                </details>
                <div class="btn-row">
                    <button class="btn btn-send" onclick="sendRequest('POST', '/user/verify/idcard', 'req_5', 'res_5')">å‘é€è¯·æ±‚</button>
                    <button class="btn btn-copy" onclick="copyInput('req_5')">å¤åˆ¶JSON</button>
                </div>
                <div class="response-block">
                    <div class="section-title">è¿”å›ç»“æœ <span class="status" id="status_5"></span></div>
                    <div class="response-output" id="res_5">ç‚¹å‡»"å‘é€è¯·æ±‚"æŸ¥çœ‹ç»“æœ</div>
                </div>
                <div class="tip">ğŸ’¡ <b>æ¨¡æ‹Ÿè¯´æ˜ï¼š</b>æµ‹è¯•æ¨¡å¼ç›´æ¥é€šè¿‡ï¼Œæ­£å¼ç¯å¢ƒéœ€å¯¹æ¥é˜¿é‡Œäº‘èº«ä»½è¯äºŒè¦ç´ APIï¼ŒçœŸå®ä»£ç è§ <code>app/utils/idcard.py</code> ç¬¬64-93è¡Œ</div>
            </div>
        </div>

        <!-- 6. ä¿¡ç”¨åˆ†è®¤è¯ -->
        <div class="api-card">
            <div class="api-header">
                <span class="method post">POST</span>
                <span class="title">6. ä¿¡ç”¨åˆ†è®¤è¯</span>
                <span class="tag">éœ€ç™»å½•</span>
            </div>
            <div class="api-body">
                <div class="auth-tip">ğŸ” éœ€è¦Tokenï¼Œå°†è‡ªåŠ¨ä»ä¸Šæ–¹Tokenæ è·å–</div>
                <div class="api-url">POST http://localhost:8000/api/v1/user/verify/credit_score</div>
                <div class="section-title">è¯·æ±‚å‚æ•° (Body JSON) - å¯ç¼–è¾‘</div>
                <textarea class="json-input" id="req_6">{
    "credit_source": "zhima"
}</textarea>
                <details class="field-desc">
                    <summary>ğŸ“‹ å­—æ®µè¯´æ˜ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>
                    <b style="font-size:12px;color:#666;">è¯·æ±‚å‚æ•°ï¼ˆæˆæƒæ¨¡å¼ï¼‰ï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>å¿…å¡«</th><th>è¯´æ˜</th></tr>
                        <tr><td>credit_source</td><td>string</td><td class="required">æ˜¯</td><td>æ¥æºï¼šzhima(èŠéº»ä¿¡ç”¨) / wechat_pay(å¾®ä¿¡æ”¯ä»˜åˆ†)</td></tr>
                    </table>
                    <b style="font-size:12px;color:#666;margin-top:10px;display:block;">è¿”å›å­—æ®µï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr>
                        <tr><td>code</td><td>int</td><td>200æˆåŠŸ / 400å‚æ•°é”™è¯¯ / 401æœªç™»å½•æˆ–Tokenå¤±æ•ˆ / 500æœåŠ¡å™¨é”™è¯¯</td></tr>
                        <tr><td>message</td><td>string</td><td>æç¤ºä¿¡æ¯</td></tr>
                        <tr><td>data.verification_id</td><td>int</td><td>è®¤è¯è®°å½•ID</td></tr>
                        <tr><td>data.credit_score</td><td>int</td><td>è·å–åˆ°çš„ä¿¡ç”¨åˆ†ï¼ˆç³»ç»Ÿè‡ªåŠ¨è·å–ï¼‰</td></tr>
                        <tr><td>data.credit_source</td><td>string</td><td>ä¿¡ç”¨åˆ†æ¥æº</td></tr>
                        <tr><td>data.verify_status</td><td>string</td><td>è®¤è¯çŠ¶æ€ï¼šapproved(é€šè¿‡)</td></tr>
                        <tr><td>data.user_level</td><td>string</td><td>ç”¨æˆ·ç­‰çº§å˜æ›´ä¸ºï¼šverified</td></tr>
                    </table>
                </details>
                <div class="btn-row">
                    <button class="btn btn-send" onclick="sendRequest('POST', '/user/verify/credit_score', 'req_6', 'res_6')">å‘é€è¯·æ±‚</button>
                    <button class="btn btn-copy" onclick="copyInput('req_6')">å¤åˆ¶JSON</button>
                </div>
                <div class="response-block">
                    <div class="section-title">è¿”å›ç»“æœ <span class="status" id="status_6"></span></div>
                    <div class="response-output" id="res_6">ç‚¹å‡»"å‘é€è¯·æ±‚"æŸ¥çœ‹ç»“æœ</div>
                </div>
                <div class="tip">ğŸ’¡ <b>æ¨¡æ‹Ÿè¯´æ˜ï¼š</b>æµ‹è¯•æ¨¡å¼ä½¿ç”¨æäº¤çš„åˆ†æ•°ç›´æ¥é€šè¿‡ï¼Œæ­£å¼ç¯å¢ƒéœ€å¯¹æ¥èŠéº»ä¿¡ç”¨/å¾®ä¿¡æ”¯ä»˜åˆ†APIï¼ŒçœŸå®ä»£ç è§ <code>app/utils/credit.py</code> ç¬¬75-125è¡Œ</div>
            </div>
        </div>

        <!-- 7. å­¦å†è®¤è¯ -->
        <div class="api-card">
            <div class="api-header">
                <span class="method post">POST</span>
                <span class="title">7. å­¦å†è®¤è¯</span>
                <span class="tag">éœ€ç™»å½•</span>
            </div>
            <div class="api-body">
                <div class="auth-tip">ğŸ” éœ€è¦Tokenï¼Œå°†è‡ªåŠ¨ä»ä¸Šæ–¹Tokenæ è·å–</div>
                <div class="api-url">POST http://localhost:8000/api/v1/user/verify/education</div>
                <div class="section-title">è¯·æ±‚å‚æ•° (Body JSON) - å¯ç¼–è¾‘</div>
                <textarea class="json-input" id="req_7">{
    "verification_code": "123456789012"
}</textarea>
                <details class="field-desc">
                    <summary>ğŸ“‹ å­—æ®µè¯´æ˜ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>
                    <b style="font-size:12px;color:#666;">è¯·æ±‚å‚æ•°ï¼ˆå­¦ä¿¡ç½‘éªŒè¯ç æ¨¡å¼ï¼‰ï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>å¿…å¡«</th><th>è¯´æ˜</th></tr>
                        <tr><td>verification_code</td><td>string</td><td class="required">æ˜¯</td><td>å­¦ä¿¡ç½‘åœ¨çº¿éªŒè¯ç ï¼ˆ12ä½ï¼‰ï¼Œåœ¨å­¦ä¿¡ç½‘ç”³è¯·è·å–</td></tr>
                    </table>
                    <b style="font-size:12px;color:#666;margin-top:10px;display:block;">è¿”å›å­—æ®µï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr>
                        <tr><td>code</td><td>int</td><td>200æˆåŠŸ / 400éªŒè¯ç æ— æ•ˆ / 401æœªç™»å½•æˆ–Tokenå¤±æ•ˆ / 500æœåŠ¡å™¨é”™è¯¯</td></tr>
                        <tr><td>message</td><td>string</td><td>æç¤ºä¿¡æ¯</td></tr>
                        <tr><td>data.verification_id</td><td>int</td><td>è®¤è¯è®°å½•ID</td></tr>
                        <tr><td>data.education_level</td><td>string</td><td>å­¦å†ç­‰çº§ï¼ˆç³»ç»Ÿè‡ªåŠ¨è·å–ï¼‰</td></tr>
                        <tr><td>data.education_name</td><td>string</td><td>å­¦å†åç§°ï¼šæœ¬ç§‘/ç¡•å£«/åšå£«</td></tr>
                        <tr><td>data.verify_status</td><td>string</td><td>è®¤è¯çŠ¶æ€ï¼šapproved(é€šè¿‡)</td></tr>
                        <tr><td>data.user_level</td><td>string</td><td>ç”¨æˆ·ç­‰çº§å˜æ›´ä¸ºï¼šverified</td></tr>
                    </table>
                </details>
                <div class="btn-row">
                    <button class="btn btn-send" onclick="sendRequest('POST', '/user/verify/education', 'req_7', 'res_7')">å‘é€è¯·æ±‚</button>
                    <button class="btn btn-copy" onclick="copyInput('req_7')">å¤åˆ¶JSON</button>
                </div>
                <div class="response-block">
                    <div class="section-title">è¿”å›ç»“æœ <span class="status" id="status_7"></span></div>
                    <div class="response-output" id="res_7">ç‚¹å‡»"å‘é€è¯·æ±‚"æŸ¥çœ‹ç»“æœ</div>
                </div>
                <div class="tip">ğŸ’¡ <b>æ¨¡æ‹Ÿè¯´æ˜ï¼š</b>æµ‹è¯•æ¨¡å¼ç›´æ¥é€šè¿‡ï¼Œæ­£å¼ç¯å¢ƒéœ€å¯¹æ¥å­¦ä¿¡ç½‘å­¦å†è®¤è¯APIï¼ŒçœŸå®ä»£ç è§ <code>app/utils/education.py</code> ç¬¬50-95è¡Œ</div>
            </div>
        </div>

        <h2 style="margin-top:30px;padding-top:20px;border-top:2px solid #1890ff;">ğŸ”’ ç®¡ç†å‘˜æ¥å£</h2>
        <div class="tip" style="margin-bottom:20px;">âš ï¸ ä»¥ä¸‹æ¥å£éœ€è¦<b>ç®¡ç†å‘˜Token</b>ï¼Œæ™®é€šç”¨æˆ·è®¿é—®å°†è¿”å›403ã€‚å¯ç”¨è§’è‰²ï¼šROLE_ADMINã€ROLE_OPERATOR</div>

        <!-- 8. ç”¨æˆ·åˆ—è¡¨ -->
        <div class="api-card">
            <div class="api-header">
                <span class="method get">GET</span>
                <span class="title">8. ç”¨æˆ·åˆ—è¡¨</span>
                <span class="tag" style="background:#ff4d4f;">ç®¡ç†å‘˜</span>
            </div>
            <div class="api-body">
                <div class="auth-tip">ğŸ” éœ€è¦ç®¡ç†å‘˜Token</div>
                <div class="api-url">GET http://localhost:8000/api/v1/admin/user/list?page=1&page_size=10</div>
                <div class="section-title">è¯·æ±‚å‚æ•° (Query)</div>
                <textarea class="json-input" id="req_8" style="min-height:50px;">page=1, page_size=10, phone=å¯é€‰, username=å¯é€‰, user_level=å¯é€‰, status=å¯é€‰</textarea>
                <details class="field-desc">
                    <summary>ğŸ“‹ å­—æ®µè¯´æ˜ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>
                    <b style="font-size:12px;color:#666;">Queryå‚æ•°ï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>å¿…å¡«</th><th>è¯´æ˜</th></tr>
                        <tr><td>page</td><td>int</td><td class="optional">å¦</td><td>é¡µç ï¼Œé»˜è®¤1</td></tr>
                        <tr><td>page_size</td><td>int</td><td class="optional">å¦</td><td>æ¯é¡µæ•°é‡ï¼Œé»˜è®¤20</td></tr>
                        <tr><td>phone</td><td>string</td><td class="optional">å¦</td><td>æ‰‹æœºå·æ¨¡ç³Šæœç´¢</td></tr>
                        <tr><td>user_level</td><td>string</td><td class="optional">å¦</td><td>ç­›é€‰ï¼štemp/normal/verified</td></tr>
                    </table>
                    <b style="font-size:12px;color:#666;margin-top:10px;display:block;">è¿”å›å­—æ®µï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr>
                        <tr><td>code</td><td>int</td><td>200æˆåŠŸ / 403æƒé™ä¸è¶³ / 500æœåŠ¡å™¨é”™è¯¯</td></tr>
                        <tr><td>data.list</td><td>array</td><td>ç”¨æˆ·åˆ—è¡¨</td></tr>
                        <tr><td>data.total</td><td>int</td><td>æ€»æ•°</td></tr>
                    </table>
                </details>
                <div class="btn-row">
                    <button class="btn btn-send" onclick="sendRequest('GET', '/admin/user/list?page=1&page_size=10', null, 'res_8')">å‘é€è¯·æ±‚</button>
                </div>
                <div class="response-block">
                    <div class="section-title">è¿”å›ç»“æœ <span class="status" id="status_8"></span></div>
                    <div class="response-output" id="res_8">ç‚¹å‡»"å‘é€è¯·æ±‚"æŸ¥çœ‹ç»“æœ</div>
                </div>
            </div>
        </div>

        <!-- 9. ç”¨æˆ·è¯¦æƒ… -->
        <div class="api-card">
            <div class="api-header">
                <span class="method get">GET</span>
                <span class="title">9. ç”¨æˆ·è¯¦æƒ…</span>
                <span class="tag" style="background:#ff4d4f;">ç®¡ç†å‘˜</span>
            </div>
            <div class="api-body">
                <div class="auth-tip">ğŸ” éœ€è¦ç®¡ç†å‘˜Token</div>
                <div class="section-title">è¯·æ±‚URLï¼ˆå¯ç¼–è¾‘ï¼‰</div>
                <input type="text" class="json-input" id="url_9" value="/admin/user/1" style="min-height:auto;padding:10px;">
                <details class="field-desc">
                    <summary>ğŸ“‹ å­—æ®µè¯´æ˜ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>
                    <b style="font-size:12px;color:#666;">è¿”å›å­—æ®µï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr>
                        <tr><td>code</td><td>int</td><td>200æˆåŠŸ / 403æƒé™ä¸è¶³ / 404ç”¨æˆ·ä¸å­˜åœ¨</td></tr>
                        <tr><td>data.user_id</td><td>int</td><td>ç”¨æˆ·ID</td></tr>
                        <tr><td>data.phone</td><td>string</td><td>æ‰‹æœºå·ï¼ˆç®¡ç†å‘˜å¯è§å®Œæ•´ï¼‰</td></tr>
                        <tr><td>data.roles</td><td>array</td><td>è§’è‰²åˆ—è¡¨[{role_code, role_name}]</td></tr>
                        <tr><td>data.real_name</td><td>string</td><td>çœŸå®å§“å</td></tr>
                        <tr><td>data.credit_score</td><td>int</td><td>ä¿¡ç”¨åˆ†</td></tr>
                    </table>
                </details>
                <div class="btn-row">
                    <button class="btn btn-send" onclick="sendRequestByUrl('GET', 'url_9', 'res_9')">å‘é€è¯·æ±‚</button>
                </div>
                <div class="response-block">
                    <div class="section-title">è¿”å›ç»“æœ <span class="status" id="status_9"></span></div>
                    <div class="response-output" id="res_9">ç‚¹å‡»"å‘é€è¯·æ±‚"æŸ¥çœ‹ç»“æœ</div>
                </div>
            </div>
        </div>

        <!-- 10. åˆ†é…è§’è‰² -->
        <div class="api-card">
            <div class="api-header">
                <span class="method post">POST</span>
                <span class="title">10. åˆ†é…è§’è‰²</span>
                <span class="tag" style="background:#ff4d4f;">ç®¡ç†å‘˜</span>
            </div>
            <div class="api-body">
                <div class="auth-tip">ğŸ” éœ€è¦ç®¡ç†å‘˜Token</div>
                <div class="section-title">è¯·æ±‚URLï¼ˆå¯ç¼–è¾‘ï¼‰</div>
                <input type="text" class="json-input" id="url_10" value="/admin/user/1/assign_role?role_code=ROLE_OPERATOR" style="min-height:auto;padding:10px;">
                <details class="field-desc">
                    <summary>ğŸ“‹ å­—æ®µè¯´æ˜ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>
                    <b style="font-size:12px;color:#666;">å‚æ•°ï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>å¿…å¡«</th><th>è¯´æ˜</th></tr>
                        <tr><td>user_id</td><td>int</td><td class="required">æ˜¯</td><td>ç”¨æˆ·ID (è·¯å¾„å‚æ•°)</td></tr>
                        <tr><td>role_code</td><td>string</td><td class="required">æ˜¯</td><td>è§’è‰²ä»£ç  (Queryå‚æ•°)</td></tr>
                    </table>
                    <b style="font-size:12px;color:#666;margin-top:10px;display:block;">å¯ç”¨è§’è‰²ï¼š</b>
                    <table>
                        <tr><th>è§’è‰²ä»£ç </th><th>è§’è‰²åç§°</th></tr>
                        <tr><td>ROLE_NORMAL_USER</td><td>æ™®é€šç”¨æˆ·(è´­æˆ¿è€…)</td></tr>
                        <tr><td>ROLE_VERIFIED_USER</td><td>å®åç”¨æˆ·</td></tr>
                        <tr><td>ROLE_DEVELOPER</td><td>å¼€å‘å•†</td></tr>
                        <tr><td>ROLE_OPERATOR</td><td>è¿è¥äººå‘˜</td></tr>
                        <tr><td>ROLE_ADMIN</td><td>ç®¡ç†å‘˜</td></tr>
                    </table>
                </details>
                <div class="btn-row">
                    <button class="btn btn-send" onclick="sendRequestByUrl('POST', 'url_10', 'res_10')">å‘é€è¯·æ±‚</button>
                </div>
                <div class="response-block">
                    <div class="section-title">è¿”å›ç»“æœ <span class="status" id="status_10"></span></div>
                    <div class="response-output" id="res_10">ç‚¹å‡»"å‘é€è¯·æ±‚"æŸ¥çœ‹ç»“æœ</div>
                </div>
            </div>
        </div>

        <!-- 11. æ’¤é”€è§’è‰² -->
        <div class="api-card">
            <div class="api-header">
                <span class="method delete">DELETE</span>
                <span class="title">11. æ’¤é”€è§’è‰²</span>
                <span class="tag" style="background:#ff4d4f;">ç®¡ç†å‘˜</span>
            </div>
            <div class="api-body">
                <div class="auth-tip">ğŸ” éœ€è¦ç®¡ç†å‘˜Token</div>
                <div class="section-title">è¯·æ±‚URLï¼ˆå¯ç¼–è¾‘ï¼‰</div>
                <input type="text" class="json-input" id="url_11" value="/admin/user/1/remove_role?role_code=ROLE_OPERATOR" style="min-height:auto;padding:10px;">
                <details class="field-desc">
                    <summary>ğŸ“‹ å­—æ®µè¯´æ˜ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>
                    <b style="font-size:12px;color:#666;">å‚æ•°ï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>å¿…å¡«</th><th>è¯´æ˜</th></tr>
                        <tr><td>user_id</td><td>int</td><td class="required">æ˜¯</td><td>ç”¨æˆ·ID (è·¯å¾„å‚æ•°)</td></tr>
                        <tr><td>role_code</td><td>string</td><td class="required">æ˜¯</td><td>è¦æ’¤é”€çš„è§’è‰²ä»£ç </td></tr>
                    </table>
                    <b style="font-size:12px;color:#666;margin-top:10px;display:block;">è¿”å›å­—æ®µï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr>
                        <tr><td>code</td><td>int</td><td>200æˆåŠŸ / 400ç”¨æˆ·æ²¡æœ‰è¯¥è§’è‰² / 403æƒé™ä¸è¶³</td></tr>
                        <tr><td>data.removed</td><td>bool</td><td>æ˜¯å¦æ’¤é”€æˆåŠŸ</td></tr>
                    </table>
                </details>
                <div class="btn-row">
                    <button class="btn btn-send" onclick="sendRequestByUrl('DELETE', 'url_11', 'res_11')">å‘é€è¯·æ±‚</button>
                </div>
                <div class="response-block">
                    <div class="section-title">è¿”å›ç»“æœ <span class="status" id="status_11"></span></div>
                    <div class="response-output" id="res_11">ç‚¹å‡»"å‘é€è¯·æ±‚"æŸ¥çœ‹ç»“æœ</div>
                </div>
            </div>
        </div>

        <!-- 12. å®¡è®¡æ—¥å¿—æŸ¥è¯¢ -->
        <div class="api-card">
            <div class="api-header">
                <span class="method get">GET</span>
                <span class="title">12. å®¡è®¡æ—¥å¿—æŸ¥è¯¢</span>
                <span class="tag" style="background:#ff4d4f;">ç®¡ç†å‘˜</span>
            </div>
            <div class="api-body">
                <div class="auth-tip">ğŸ” éœ€è¦ç®¡ç†å‘˜Token</div>
                <div class="section-title">è¯·æ±‚URLï¼ˆå¯ç¼–è¾‘ï¼‰</div>
                <input type="text" class="json-input" id="url_12" value="/admin/audit/logs?page=1&page_size=10" style="min-height:auto;padding:10px;">
                <details class="field-desc">
                    <summary>ğŸ“‹ å­—æ®µè¯´æ˜ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>
                    <b style="font-size:12px;color:#666;">Queryå‚æ•°ï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>å¿…å¡«</th><th>è¯´æ˜</th></tr>
                        <tr><td>page</td><td>int</td><td class="optional">å¦</td><td>é¡µç ï¼Œé»˜è®¤1</td></tr>
                        <tr><td>page_size</td><td>int</td><td class="optional">å¦</td><td>æ¯é¡µæ•°é‡ï¼Œé»˜è®¤20</td></tr>
                        <tr><td>module</td><td>string</td><td class="optional">å¦</td><td>æ“ä½œæ¨¡å—ç­›é€‰ï¼ˆç”¨æˆ·è®¤è¯/ç”¨æˆ·ç®¡ç†/ç®¡ç†åå°ç­‰ï¼‰</td></tr>
                        <tr><td>username</td><td>string</td><td class="optional">å¦</td><td>ç”¨æˆ·å/IDæ¨¡ç³Šæœç´¢</td></tr>
                        <tr><td>start_date</td><td>string</td><td class="optional">å¦</td><td>å¼€å§‹æ—¥æœŸ YYYY-MM-DD</td></tr>
                        <tr><td>end_date</td><td>string</td><td class="optional">å¦</td><td>ç»“æŸæ—¥æœŸ YYYY-MM-DD</td></tr>
                    </table>
                    <b style="font-size:12px;color:#666;margin-top:10px;display:block;">è¿”å›å­—æ®µï¼š</b>
                    <table>
                        <tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr>
                        <tr><td>code</td><td>int</td><td>200æˆåŠŸ / 403æƒé™ä¸è¶³</td></tr>
                        <tr><td>data.list</td><td>array</td><td>æ—¥å¿—åˆ—è¡¨</td></tr>
                        <tr><td>data.list[].user_id</td><td>int</td><td>æ“ä½œç”¨æˆ·ID</td></tr>
                        <tr><td>data.list[].module</td><td>string</td><td>æ“ä½œæ¨¡å—</td></tr>
                        <tr><td>data.list[].action</td><td>string</td><td>æ“ä½œäº‹é¡¹</td></tr>
                        <tr><td>data.list[].ip</td><td>string</td><td>è¯·æ±‚IP</td></tr>
                        <tr><td>data.list[].created_at</td><td>string</td><td>æ“ä½œæ—¶é—´</td></tr>
                        <tr><td>data.total</td><td>int</td><td>æ€»æ•°</td></tr>
                    </table>
                </details>
                <div class="btn-row">
                    <button class="btn btn-send" onclick="sendRequestByUrl('GET', 'url_12', 'res_12')">å‘é€è¯·æ±‚</button>
                </div>
                <div class="response-block">
                    <div class="section-title">è¿”å›ç»“æœ <span class="status" id="status_12"></span></div>
                    <div class="response-output" id="res_12">ç‚¹å‡»"å‘é€è¯·æ±‚"æŸ¥çœ‹ç»“æœ</div>
                </div>
                <div class="tip">ğŸ’¡ <b>è¯´æ˜ï¼š</b>ç³»ç»Ÿè‡ªåŠ¨è®°å½•æ ¸å¿ƒæ“ä½œæ—¥å¿—ï¼ŒåŒ…æ‹¬ï¼šç”¨æˆ·ç™»å½•æ³¨å†Œã€å®åè®¤è¯ã€ç®¡ç†å‘˜æ“ä½œç­‰</div>
            </div>
        </div>

    </div>

    <script>
        const API_BASE = 'http://localhost:8000/api/v1';

        async function sendRequest(method, path, reqId, resId, saveToken = false) {
            const resEl = document.getElementById(resId);
            const statusEl = document.getElementById('status_' + resId.split('_')[1]);
            resEl.textContent = 'è¯·æ±‚ä¸­...';
            statusEl.textContent = '';
            statusEl.className = 'status';

            try {
                const token = document.getElementById('globalToken').value;
                const options = {
                    method,
                    headers: { 'Content-Type': 'application/json' }
                };
                if (token) {
                    options.headers['Authorization'] = 'Bearer ' + token;
                }
                if (reqId && method !== 'GET') {
                    const body = document.getElementById(reqId).value;
                    options.body = body;
                }

                const res = await fetch(API_BASE + path, options);
                const data = await res.json();
                
                resEl.textContent = JSON.stringify(data, null, 2);
                
                if (res.ok && data.code === 200) {
                    statusEl.textContent = 'æˆåŠŸ ' + res.status;
                    statusEl.className = 'status success';
                    // è‡ªåŠ¨ä¿å­˜Token
                    if (saveToken && data.data?.token) {
                        document.getElementById('globalToken').value = data.data.token;
                    }
                } else {
                    statusEl.textContent = 'å¤±è´¥ ' + res.status;
                    statusEl.className = 'status error';
                }
            } catch (err) {
                resEl.textContent = 'è¯·æ±‚å¤±è´¥: ' + err.message + '\n\nè¯·ç¡®ä¿åç«¯æœåŠ¡å·²å¯åŠ¨: python main.py';
                statusEl.textContent = 'é”™è¯¯';
                statusEl.className = 'status error';
            }
        }

        // é€šè¿‡URLè¾“å…¥æ¡†å‘é€è¯·æ±‚
        async function sendRequestByUrl(method, urlId, resId) {
            const path = document.getElementById(urlId).value;
            const resEl = document.getElementById(resId);
            const statusEl = document.getElementById('status_' + resId.split('_')[1]);
            resEl.textContent = 'è¯·æ±‚ä¸­...';
            statusEl.textContent = '';
            statusEl.className = 'status';

            try {
                const token = document.getElementById('globalToken').value;
                const options = {
                    method,
                    headers: { 'Content-Type': 'application/json' }
                };
                if (token) {
                    options.headers['Authorization'] = 'Bearer ' + token;
                }

                const res = await fetch(API_BASE + path, options);
                const data = await res.json();
                
                resEl.textContent = JSON.stringify(data, null, 2);
                
                if (res.ok && data.code === 200) {
                    statusEl.textContent = 'æˆåŠŸ ' + res.status;
                    statusEl.className = 'status success';
                } else {
                    statusEl.textContent = 'å¤±è´¥ ' + res.status;
                    statusEl.className = 'status error';
                }
            } catch (err) {
                resEl.textContent = 'è¯·æ±‚å¤±è´¥: ' + err.message + '\n\nè¯·ç¡®ä¿åç«¯æœåŠ¡å·²å¯åŠ¨: python main.py';
                statusEl.textContent = 'é”™è¯¯';
                statusEl.className = 'status error';
            }
        }

        function copyInput(id) {
            const text = document.getElementById(id).value;
            navigator.clipboard.writeText(text).then(() => {
                alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
            });
        }
    </script>
</body>
</html>
